(function(e){function t(t){for(var a,i,r=t[0],l=t[1],u=t[2],c=0,h=[];c<r.length;c++)i=r[c],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(h.length)h.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==o[l]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},o={app:0},s=[];function i(e){return r.p+"js/"+({about:"about"}[e]||e)+"."+{about:"84d94ac8"}[e]+".js"}function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=o[e]=[t,a]}));t.push(n[2]=a);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=i(e);var u=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",u.name="ChunkLoadError",u.type=a,u.request=s,n[1](u)}o[e]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0276":function(e,t,n){"use strict";n("2a3b")},"0723":function(e,t,n){},"07fb":function(e,t,n){},"21bb":function(e,t,n){"use strict";n("2dad")},"2a3b":function(e,t,n){},"2c3a":function(e,t,n){},"2dad":function(e,t,n){},"3a49":function(e,t,n){"use strict";n("07fb")},"404b":function(e,t,n){"use strict";n("2c3a")},"56d7":function(e,t,n){"use strict";n.r(t);var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("header-nav"),n("router-view"),n("modal-window",{ref:"modalQuiz",on:{onAfterModalClose:e.onCloseQuiz}},[n("quiz",{on:{quizFinish:e.onQuizFinish}})],1)],1)},s=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-nav"},[a("div",{staticClass:"container"},[a("div",{staticClass:"header-nav__wrap"},[a("router-link",{staticClass:"header-nav__logo",attrs:{to:"/"}},[a("img",{attrs:{src:n("9b19"),alt:"Vue logo"}})]),a("div",{staticClass:"header-nav__menu"},[a("router-link",{staticClass:"header-nav__nav-link",attrs:{to:"/"}},[e._v("Home")]),a("router-link",{staticClass:"header-nav__nav-link",attrs:{to:"/catalog"}},[e._v("Catalog")]),a("router-link",{staticClass:"header-nav__nav-link",attrs:{to:"/tenders"}},[e._v("Tenders")]),a("router-link",{staticClass:"header-nav__nav-link",attrs:{to:"/trade"}},[e._v("Trade")]),a("router-link",{staticClass:"header-nav__nav-link",attrs:{to:"/web-shop-nl"}},[e._v("Web-Shop NL")])],1)],1)])])},r=[],l={name:"HeaderNav"},u=l,c=(n("404b"),n("2877")),d=Object(c["a"])(u,i,r,!1,null,null,null),h=d.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"modal-window"},[n("div",{staticClass:"modal-window__shadow",on:{click:function(t){return t.target!==t.currentTarget?null:e.closeModal.apply(null,arguments)}}}),n("div",{staticClass:"modal-window__inner",on:{click:function(t){return t.target!==t.currentTarget?null:e.closeModal.apply(null,arguments)}}},[n("div",{ref:"modalWindowContent",staticClass:"modal-window__content"},[n("div",{staticClass:"modal-window__close-btn",on:{click:e.closeModal}}),e._t("default",null,{showModalWindow:e.show})],2)])])])},p=[],f={name:"ModalWindow",props:["sendStatus"],data:function(){return{show:!1,browserScrollLineWidth:null,backToPopup:void 0}},methods:{openModal(e,t){e&&e.preventDefault(),this.backToPopup=t,this.checkWindowHeight(),document.body.classList.add("open-modal"),document.body.style.marginRight=this.browserScrollLineWidth,this.show=!0},closeModal(){this.show=!1,this.backToPopup?window.vue.openModal(this.backToPopup):(document.body.classList.remove("open-modal"),document.body.style.marginRight="0"),this.$emit("onAfterModalClose")},getScrollLineWidth(){let e=document.createElement("div");e.style.overflowY="scroll",e.style.width="50px",e.style.height="50px",document.body.append(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t},isScrollLine(e){let t=document,n=t.body,a=t.documentElement,o="client"+e;return e="scroll"+e,/CSS/.test(t.compatMode)?a[o]<a[e]:n[o]<n[e]},checkWindowHeight(){this.isScrollLine("Height")?this.browserScrollLineWidth=this.getScrollLineWidth()+"px":this.browserScrollLineWidth="0"}}},v=f,w=(n("0276"),Object(c["a"])(v,m,p,!1,null,null,null)),_=w.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"quiz loading-block",class:{"is-fetch":e.isFetch}},[e.isFetch?n("preloader"):e._e(),n("h2",{staticClass:"quiz__title"},[e._v("Please answer a few questions")]),n("progress-component",{staticClass:"quiz__progress",attrs:{count:e.quizTotal,current:e.showStep}}),n("div",{staticClass:"quiz__form"},[n("h3",{staticClass:"quiz__form-question-title"},[e._v(" "+e._s(e.currentQuiz.question)+" ("+e._s(e.showStep)+"/"+e._s(e.quizTotal)+") ")]),"radiobutton"===e.currentQuiz.answer_type?n("div",{staticClass:"quiz__form-questions"},e._l(e.currentQuiz.answers.items,(function(t){return n("radio-component",{key:t,attrs:{name:"radio",value:t,label:t},model:{value:e.formData[e.showStep-1].answer,callback:function(t){e.$set(e.formData[e.showStep-1],"answer",t)},expression:"formData[showStep - 1].answer"}})})),1):e._e(),"textarea-with-disable"===e.currentQuiz.answer_type?n("div",{staticClass:"quiz__form-questions"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formData[e.showStep-1].answer,expression:"formData[showStep - 1].answer"}],attrs:{disabled:e.formData[e.showStep-1].disable},domProps:{value:e.formData[e.showStep-1].answer},on:{input:function(t){t.target.composing||e.$set(e.formData[e.showStep-1],"answer",t.target.value)}}}),n("checkbox-component",{attrs:{label:e.currentQuiz.answers.disable_text,inputValue:!1},model:{value:e.formData[e.showStep-1].disable,callback:function(t){e.$set(e.formData[e.showStep-1],"disable",t)},expression:"formData[showStep - 1].disable"}})],1):e._e(),"checkbox-with-my"===e.currentQuiz.answer_type?n("div",{staticClass:"quiz__form-questions"},[e._l(e.currentQuiz.answers.items,(function(t){return n("checkbox-component",{key:t,attrs:{label:t,inputValue:t},model:{value:e.formData[e.showStep-1].answer,callback:function(t){e.$set(e.formData[e.showStep-1],"answer",t)},expression:"formData[showStep - 1].answer"}})})),n("checkbox-component",{attrs:{label:e.currentQuiz.answers.my_variant_text,inputValue:!1},model:{value:e.formData[e.showStep-1].my_variant_enable,callback:function(t){e.$set(e.formData[e.showStep-1],"my_variant_enable",t)},expression:"formData[showStep - 1].my_variant_enable"}}),e.formData[e.showStep-1].my_variant_enable?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formData[e.showStep-1].my_variant_answer,expression:"formData[showStep - 1].my_variant_answer"}],domProps:{value:e.formData[e.showStep-1].my_variant_answer},on:{input:function(t){t.target.composing||e.$set(e.formData[e.showStep-1],"my_variant_answer",t.target.value)}}}):e._e()],2):e._e(),n("button",{staticClass:"btn quiz__form-btn",on:{click:e.onNextStep}},[e._v(e._s(e.showStep<e.quizTotal?"Next":"Submit")+" ")])])],1)},g=[],y=(n("d9e2"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-field form-checkbox"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{type:"checkbox"},domProps:{value:e.inputValue,checked:Array.isArray(e.model)?e._i(e.model,e.inputValue)>-1:e.model},on:{change:function(t){var n=e.model,a=t.target,o=!!a.checked;if(Array.isArray(n)){var s=e.inputValue,i=e._i(n,s);a.checked?i<0&&(e.model=n.concat([s])):i>-1&&(e.model=n.slice(0,i).concat(n.slice(i+1)))}else e.model=o}}}),n("span",[e._v(e._s(e.label))])])])}),S=[],z={name:"CheckboxComponent",props:["label","value","inputValue"],computed:{model:{get(){return this.value},set(e){this.$emit("input",e)}}}},C=z,k=(n("3a49"),Object(c["a"])(C,y,S,!1,null,null,null)),q=k.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-field form-radio"},[n("label",[n("input",{attrs:{type:"radio",id:e.value,name:e.name},domProps:{value:e.value,checked:e.isChecked},on:{change:function(t){return e.$emit("change",t.target.value)}}}),n("span",[e._v(e._s(e.label))])])])},D=[],L={name:"RadioComponent",props:["name","value","label","modelValue"],computed:{isChecked(){return this.modelValue===this.value}},emits:["change"],model:{prop:"modelValue",event:"change"}},O=L,$=(n("8456"),Object(c["a"])(O,x,D,!1,null,null,null)),j=$.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"progress"},e._l(e.count,(function(t){return n("div",{staticClass:"progress__item",class:{active:e.current>=t}})})),0)},T=[],Q={name:"ProgressComponent",props:["count","current"]},E=Q,M=(n("5c9b"),Object(c["a"])(E,P,T,!1,null,"4e52c252",null)),F=M.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"preloader"})},N=[],V={name:"preloader"},A=V,H=(n("f73a"),Object(c["a"])(A,W,N,!1,null,null,null)),R=H.exports,I={components:{Preloader:R,ProgressComponent:F,RadioComponent:j,CheckboxComponent:q},name:"Quiz",data(){return{isFetch:!1,quizStep:0,showStep:1,quizList:[],quizTotal:0,formData:[],conditionForShowing:[]}},computed:{currentQuiz(){let e=this.quizList[this.quizStep];if(!e)return!1;let t={question:e.question,answer:""};return"textarea-with-disable"===e.answer_type&&(t={...t,disable:!1}),"checkbox-with-my"===e.answer_type&&(t={...t,answer:[],my_variant_enable:!1,my_variant_answer:""}),this.formData.push(t),e},validCurrentQuestion(){let e=!1,t=this.formData[this.formData.length-1];return e=t.answer.length>0||t.disable||!!t.my_variant_answer&&t.my_variant_enable,e}},methods:{onNextStep(){if(this.validCurrentQuestion){if(this.showStep>=this.quizTotal&&this.onSubmit(),"set_condition"in this.quizList[this.quizStep]){let e=this.formData[this.formData.length-1].answer,t=this.quizList[this.quizStep].answers.items.indexOf(e);this.conditionForShowing.push(this.quizList[this.quizStep].set_condition[t])}let e=this.quizStep+1,t=e<this.quizList.length;while(t)if("condition_for_showing"in this.quizList[e]){let n=!1;this.quizList[e].condition_for_showing.forEach(e=>{-1!==this.conditionForShowing.indexOf(e)&&(n=!0)}),n?(this.quizStep=e,t=!1):e+=1}else this.quizStep=e,t=!1;e<this.quizList.length&&this.showStep++}else console.log("Не ответили на вопрос!")},async onSubmit(){JSON.stringify(this.formData);try{this.isFetch=!0,await new Promise(e=>setTimeout(e,2e3)),this.$emit("quizFinish"),this.isFetch=!1}catch(e){this.isFetch=!1,console.log("ERROR: ",e.message)}}},async created(){try{this.isFetch=!0;const e=await fetch("quizlist.json");if(!e.ok){const t=`An error has occured: ${e.status} - ${e.statusText}`;throw new Error(t)}const t=await e.json();this.quizList=[...t["questions"]],this.quizTotal=t["total"],this.isFetch=!1}catch(e){this.isFetch=!1,console.log("Error loading json:",e)}}},J=I,Y=(n("9aab"),Object(c["a"])(J,b,g,!1,null,null,null)),B=Y.exports,G={name:"App",components:{ModalWindow:_,HeaderNav:h,Quiz:B},methods:{onQuizFinish(){this.$refs.modalQuiz.closeModal()},onCloseQuiz(){localStorage.setItem("hide-quiz",!0)}},mounted(){localStorage.getItem("hide-quiz")||this.$refs.modalQuiz.openModal()}},K=G,U=(n("5c0b"),Object(c["a"])(K,o,s,!1,null,null,null)),X=U.exports,Z=n("8c4f"),ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("div",{staticClass:"container"},[n("a",{staticClass:"reset-link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onClearLS.apply(null,arguments)}}},[e._v("Oчистить local Storage, чтобы показать опросник при следующей загрузке")])])])},te=[],ne={name:"Home",methods:{onClearLS(){localStorage.removeItem("hide-quiz")}}},ae=ne,oe=(n("21bb"),Object(c["a"])(ae,ee,te,!1,null,null,null)),se=oe.exports;a["a"].use(Z["a"]);const ie=[{path:"/",name:"Home",component:se},{path:"/about",name:"About",component:()=>n.e("about").then(n.bind(null,"f820"))}],re=new Z["a"]({base:"",routes:ie});var le=re;a["a"].config.productionTip=!1,new a["a"]({router:le,render:e=>e(X)}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"5c9b":function(e,t,n){"use strict";n("0723")},"6edf":function(e,t,n){},8456:function(e,t,n){"use strict";n("95bd")},"95bd":function(e,t,n){},"9aab":function(e,t,n){"use strict";n("ae2e")},"9b19":function(e,t,n){e.exports=n.p+"img/logo.19d2a181.svg"},"9c0c":function(e,t,n){},ae2e:function(e,t,n){},f73a:function(e,t,n){"use strict";n("6edf")}});
//# sourceMappingURL=app.9603ab02.js.map